{% extends "layout.njk" %}

{% block content %}

{% include "parts/header.njk" %}

<div class="container show">
   <img src="{{ recipe.image }}" alt="{{ recipe.title }}">

   <div class="presentation">
      <h1>{{ recipe.title }}</h1>
      <h3>por {{ recipe.author }}</h3>
   </div>

   <div class="recipe">
      <div class="ingredients">
         <h3>Ingredientes:</h3>
         <a id="ingredient-clickable" class="clickable">Esconder</a>
         <ul id="ingredient-content">
            {% for ingredient in recipe.ingredients %}
            <li>{{ ingredient }}</li>
            {% endfor %}
         </ul>
      </div>

      <div class="preparation">
         <h3>Modo de preparo:</h3>
         <a id="preparation-clickable" class="clickable">Esconder</a>
         <ul id="preparation-content">
            {% for step in recipe.preparation %}
            <li>{{ step }}</li>
            {% endfor %}
         </ul>
      </div>

      <div class="information">
         <h3>Informações adicionais:</h3>
         <a id="information-clickable" class="clickable">Esconder</a>
         <p id="information-content">{{ recipe.information }}</p>
      </div>
   </div>
</div>

<script>
   const ingredientClickable = document.getElementById('ingredient-clickable')
   const preparationClickable = document.getElementById('preparation-clickable')
   const informationClickable = document.getElementById('information-clickable')

   ingredientClickable.addEventListener('click', hideIngredient, false)
   preparationClickable.addEventListener('click', hidePreparation, false)
   informationClickable.addEventListener('click', hideInformation, false)

   function hideIngredient() {
      const content = document.getElementById('ingredient-content')


      if(content.classList.value == 'hide') {
         ingredientClickable.innerHTML = 'Esconder'
         content.classList.remove('hide')
      } else {
         ingredientClickable.innerHTML = 'Mostrar'
         content.classList.add('hide')
      }
   }

   function hidePreparation() {
      const content = document.getElementById('preparation-content')

      if(content.classList.value == 'hide') {
         preparationClickable.innerHTML = 'Esconder'
         content.classList.remove('hide')
      } else {
         preparationClickable.innerHTML = 'Mostrar'
         content.classList.add('hide')
      }
   }

   function hideInformation() {
      const content = document.getElementById('information-content')

      if(content.classList.value == 'hide') {
         informationClickable.innerHTML = 'Esconder'
         content.classList.remove('hide')
      } else {
         informationClickable.innerHTML = 'Mostrar'
         content.classList.add('hide')
      }

   }
</script>

{% endblock %}